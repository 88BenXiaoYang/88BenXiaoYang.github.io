---
title: Swift
date: 2019-05-27 11:08:36
tags: iOS
categories: iOS
---

### 简介

`Swift` 是支持多编程范式和编译式的语言

`Swift` 的特点：

* 结合`C`和`OC`的优点
* 和`OC`使用相同的运行环境
* 用于开发`OS X`和`iOS`应用程序
* 将`OC`中的`.h`和`.m`文件合并成了一个文件`.swift`文件
* 有类型检查的能力，即可以根据值推出变量的类型 - “类型意识强”

学习`swift`时，可利用利器`Playground`，因其能实时显示结果

Tips:

```
编程范式：编程的模式、方法，编程风格。每种语言根据其特性，有对应的
编程模式、方法，有对应的技术禁止和技术允许。

一种语言，因其语言所具有的特性，可有多种编程范型（编程模式）。如
 c++ 可有过程化编程、面向对象编程、泛型编程。范型元素，即模式元素。
```

### 基本语法

* 使用`import`语句引入任何`OC`框架（或`C`库）
* 程序由多种标记组成，标记包括单词、标识符、常量、字符串、符号
* 注释
  1. 单行注释：`//注释内容`
  2. 多行注释：`/*注释内容*/`

* 分号
  1. 不要求在每行语句的结尾使用分号(;)
  2. 在同一行书写多条语句时，必须用分号隔开，最后一条语句可不用分号结尾

* 标识符
  * 是给变量、常量、方法、函数、枚举、结构体、类、协议等指定的名字
  * 命名规则
     1. 区分大小写
     2. 首字符可以以下划线(_)或者字母开始，但不能是数字
     3. 标识符中其他字符可以是下划线(_)、字母或数字
     4. 如果一定要使用关键字作为标识符，可以在关键字前后添加重音符号(')。注，通常不用关键字作为标识符

* 关键字
  * 是类似于标识符的保留字符序列
  * 关键字是对编译器具有特殊意义的预定义保留标识符
  * 常见的关键字
     1. 与声明有关
     2. 与语句有关，如条件/判断/循环等语句
     3. 表达式和类型
     4. 在特定上下文中使用的关键字

* 空格
  * 对空格的使用有一定的要求，但不像`Python`对缩进的要求那么严格
  * 运算符不能直接跟在变量或常量的后面
  * 运算表达式中空格有断句的作用，在这种情况下使用分号`(;)`来表示一句完整的运算表达式

* 打印输出
  * 使用`print`函数打印输出

### 数据类型

* 有符号浮点数类型
  * `Double`
     1. `64`位浮点数，需要存储很大或很高精度的浮点数时使用此类型
     2. 精确度高，至少有`15`位数字

  * `Float`
     1. `32`位浮点数，对精度要求不高时使用此类型
     2. 最少只有`6`位数字
   
  * 当使用浮点数时，`swift`默认为`Double`类型

* 布尔值，`true/false`

* 字符串，字符的序列集合

* 可选类型`(Optional)`，使用可选类型来处理值可能缺失的情况。可选类型表示有值或没有值

* 类型别名
  * 对当前的类型定义了另一个名字，通过使用`typealias`关键字来定义
  * 语法格式：`typealias newname = type`

* 类型安全
  * `swift`是一种类型安全`(type safe)`的语言
  * 在编译时进行类型检查`(type checks)`，在这期间把不匹配的类型标记为错误

* 类型推断
  * 在没有显示指定类型时，`swift`会使用类型推断`(type inference)`来选择合适的类型
  * `OC`中声明变量时需要指明类型
  * 当推断浮点数的类型时，`swift`总是会选择`Double`而不是`Float`
  * 如果表达式中同时出现了整数和浮点数，会被推断为`Double`类型

* 类型转换
  * 变量类型不同时，若要进行相互赋值时，需要进行显示转换，将数据类型统一为其中的一种类型

* 整数
  * 可正可负的整数，称为有符号整数
  * 只能为正的整数，称为无符号整数

### 知识点

##### 变量

* 变量是占位符，用于引用计算机内存地址
* 类型决定了变量占用内存的大小
* 变量声明
  * 告诉编译器在内存中的哪个位置上为变量创建多大的存储空间
  * 在使用前，用关键字`var`声明它
* 变量命名，规则见“基本语法/标识符/命名规则”
* 变量输出
  * 变量和常量可以使用`print`函数来输出
  * 在字符串中可以使用括号与反斜线来插入变量

##### 常量

* 使用关键字`let`来声明
* 类型标注
  * 说明常量或变量中要存储的值的类型
  * 添加类型标注，需要在常量或变量名后面加上一个冒号和空格，然后加上类型名称，如：`let/var variablename: Type`
* 变量命名，规则见“基本语法/标识符/命名规则”
* 常量需要的开销比变量小
* 常量的值，在编译的时候可以不立即指定，但是只能给它赋值一次

##### 字面量

* 整型字面量
  * 二进制前缀`0b`
  * 八进制前缀`0o`
  * 十六进制前缀`0x`
 
* 浮点型字面量
  * 用指数表示的小数
     1. 十进制表示，指数部分由大写或小写字母`e`为前缀后跟十进制数字串组成，这串数字表示`e`之前的数量乘以`10`的几次方，如：`1.25e2表示1.25*10^2也就是125.0`
     2. 十六进制表示，指数部分由大写或小写字母`p`为前缀后跟十进制数字串组成，这串数字表示`p`之前的数量乘以`2`的几次方，如：`0xFp2表示15*2^2也就是60`

* 布尔型字面量
  * `true 表示真`
  * `false 表示假`
  * `nil 表示没有值`

##### 可选类型`(Optionals)`

* 用于处理值缺失的情况
* `swift`定义后缀`?`作为命名为可选类型`(Optional)`的缩写
* `var optionalInteger: Int? 等价于 var optionalInteger: Optional<Int>`，注：类型和`?`之间没有空格
* 可选类型是一个含有两种情况的枚举，`None`和`Some(T)`
* 任何类型都可以明确声明为可选类型
* 可以使用后缀操作符`!`来访问可选类型的实例变量值
  * 使用操作符`!`去获取值为`nil`的可选变量会有运行时错误
  * 可以用可选链接和可选绑定选择性执行可选表达式上的操作，这种情况下，如果值为`nil`，任何操作都不会执行，也不会有运行报错

* 可选类型类似于`OC`中指针的`nil`值，但是`nil`只对类`(class)`有用，而可选类型对所有类型都可用，并且更安全

* 可选值的强制解析
  * 在确定可选类型确实包含值之后，可在可选的名字后面加一个感叹号`(!)`来获取值
  * 使用`!`来获取一个不存在的可选值会导致运行时错误，因此，使用`!`来强制解析值之前，一定要确定可选包含一个非`nil`的值

* 自动解析，在声明可选变量时使用`!`替换`?`，这样可选变量在使用时就不需要再加`!`来获取值，它会自动解析
* 可选绑定，用来判断可选类型是否包含值，如果包含就把值赋给一个临时常量或变量

##### 运算符


  
### 常见知识点总结