---
title: 应用优化
date: 2019-10-08 13:35:03
tags:
---

### 内存优化

1. 分析解决内存泄漏
   * 设置僵尸(`Zombie`)拦截获取更详细的崩溃异常信息
   * 分析检查是否存在内存泄漏(静态、动态)
     * 静态分析方式:(`shift + command + b`)或(`Xcode -> product -> analyze`)
     * 动态分析方式:(因有些内存泄漏需要在应用使用过程中才产生。如：图片资源加载)使用工具:`Instruments` -> `Leaks`(开启工具:`command + I`或`Xcode -> product -> profile`)

2. 使用懒加载方式进行优化(懒加载能实现延迟加载的效果)

##### 调试会用到的`LLDB`命令

* 在控制台里打印`view`的层级
  * `po [[[UIApplication sharedApplication] keyWindow] recursiveDescription]`
* 输出整个视图的层次结构
  * `po [[UIWindow keyWindow] _autolayoutTrace]`
* 检查视图控制器
  * `po [[[UIWindow keyWindow] rootViewController] _printHierarchy]`
* 查看`xcode`的栈帧信息(打印栈帧信息)
  * `bt`
* `image`命令可用于寻址，有多个组合命令，在控制台输入`help image`可查看`image`的用法
