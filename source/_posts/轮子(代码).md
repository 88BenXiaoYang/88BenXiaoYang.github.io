---
title: 轮子(代码)
date: 2019-10-18 14:13:17
tags:
---

* 圆形图像-无边框

```
- (UIImage *)getEllipseImageWithImage:(UIImage *)originImage {
    CGFloat padding = 40;
    UIColor *bgColor = UIColor.orangeColor;
    CGSize originSize = originImage.size;
    CGRect originRect = CGRectMake(0, 0, originSize.width, originSize.height);
    
    UIGraphicsBeginImageContext(originSize);
    CGContextRef ctx = UIGraphicsGetCurrentContext();
    CGRect desRect = CGRectMake(padding, padding, originSize.width - padding * 2, originSize.height - padding * 2);
    CGContextSetFillColorWithColor(ctx, bgColor.CGColor);
    
    UIRectFill(originRect);
    
    CGContextAddEllipseInRect(ctx, desRect);
    CGContextClip(ctx);
    
    [originImage drawInRect:originRect];
    
    UIImage *desImg = UIGraphicsGetImageFromCurrentImageContext();
    
    UIGraphicsEndImageContext();
    
    return desImg;
}
```

* 圆形图像-有边框

```
- (UIImage *)getEllipseImageByFrameWithImage:(UIImage *)originImage {
    CGFloat padding = 5;
    UIColor *bgColor = UIColor.purpleColor;
    
    CGSize originSize = originImage.size;
    CGRect originRect = CGRectMake(0, 0, originSize.width, originSize.height);
    
    UIGraphicsBeginImageContext(originSize);
    CGContextRef ctx = UIGraphicsGetCurrentContext();
    CGRect desRect = CGRectMake(padding, padding, originSize.width - padding * 2, originSize.height - padding * 2);
    CGContextSetFillColorWithColor(ctx, bgColor.CGColor);
    UIRectFill(originRect);
    CGContextAddEllipseInRect(ctx, desRect);
    CGContextClip(ctx);
    [originImage drawInRect:originRect];
    
    //frame
    CGFloat borderW = 10;
    CGContextSetStrokeColorWithColor(ctx, [UIColor blueColor].CGColor);
    CGContextSetLineCap(ctx, kCGLineCapButt);
    CGContextSetLineWidth(ctx, borderW);
    CGContextAddEllipseInRect(ctx, desRect);
    CGContextStrokePath(ctx);
    
    UIImage *desImg = UIGraphicsGetImageFromCurrentImageContext();
    UIGraphicsEndImageContext();
    
    return desImg;
}
```
